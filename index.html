<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Republic Security Terminal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #000;
            font-family: 'Courier New', monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: #0f0;
            overflow: hidden;
        }

        /* Screen container - FIXED SIZE */
        .screen-container {
            width: 900px; /* Fixed width */
            height: 700px; /* Fixed height */
            background: #111;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 
                0 0 0 1px #333,
                0 0 30px rgba(0, 50, 0, 0.7),
                inset 0 0 20px rgba(0, 0, 0, 0.9);
            position: relative;
            z-index: 2;
            border: 2px solid #222;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* Power controls */
        .power-controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            padding: 0 10px;
            flex-shrink: 0;
        }

        .power-btn {
            background: linear-gradient(to bottom, #333, #111);
            color: #aaa;
            border: 1px solid #444;
            padding: 8px 20px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            outline: none;
            text-transform: uppercase;
            letter-spacing: 1px;
            flex-shrink: 0;
        }

        .power-btn:hover {
            color: #fff;
            border-color: #666;
            box-shadow: 0 0 10px rgba(100, 100, 100, 0.5);
        }

        .power-btn:active {
            transform: translateY(1px);
        }

        .power-btn.on {
            color: #0f0;
            border-color: #0f0;
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.3);
        }

        .power-btn.off {
            color: #f00;
            border-color: #f00;
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.3);
        }

        .status-indicator {
            display: flex;
            align-items: center;
            color: #666;
            font-size: 14px;
            flex-shrink: 0;
        }

        .status-light {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #300;
            margin-right: 8px;
            box-shadow: 0 0 5px rgba(255, 0, 0, 0.5);
            transition: all 0.3s;
            flex-shrink: 0;
        }

        .status-light.on {
            background: #0f0;
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.8);
            animation: pulse 2s infinite;
        }

        .screen-label {
            text-align: center;
            color: #666;
            font-size: 12px;
            letter-spacing: 2px;
            margin-bottom: 10px;
            text-transform: uppercase;
            flex-shrink: 0;
        }

        /* Main screen area - FIXED SIZE */
        .screen-area {
            flex: 1;
            background: #000;
            border-radius: 8px;
            position: relative;
            overflow: hidden;
            border: 1px solid #333;
            min-height: 0; /* Important for flex child */
        }

        /* Screen effects INSIDE the screen area */
        .screen-effects {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .screen-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.15;
            background: 
                linear-gradient(transparent 0%, rgba(0, 255, 0, 0.05) 2%, transparent 5%),
                repeating-linear-gradient(0deg, rgba(0, 0, 0, 0.15) 0px, rgba(0, 0, 0, 0.15) 1px, transparent 1px, transparent 2px);
            mix-blend-mode: overlay;
        }

        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: rgba(0, 255, 0, 0.5);
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.8);
            z-index: 2;
            animation: scan 8s linear infinite;
        }

        @keyframes scan {
            0% { top: 0%; }
            100% { top: 100%; }
        }

        .flicker {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.03);
            z-index: 3;
            opacity: 0;
            animation: flicker 0.15s infinite;
        }

        @keyframes flicker {
            0%, 100% { opacity: 0.1; }
            50% { opacity: 0.05; }
        }

        .noise {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.15'/%3E%3C/svg%3E");
            z-index: 4;
            opacity: 0.25;
            mix-blend-mode: overlay;
        }

        /* Terminal styling - FIXED SIZE INSIDE SCREEN */
        .terminal {
            position: relative;
            z-index: 5;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 10, 0.95);
            padding: 15px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .terminal-header {
            border-bottom: 1px solid #0f0;
            padding-bottom: 10px;
            margin-bottom: 15px;
            text-align: center;
            font-size: 16px;
            letter-spacing: 2px;
            flex-shrink: 0;
        }

        .terminal-output {
            flex: 1;
            overflow-y: auto;
            line-height: 1.6;
            padding-right: 5px;
            min-height: 0; /* Important for flex child */
        }

        .terminal-output::-webkit-scrollbar {
            width: 8px;
        }

        .terminal-output::-webkit-scrollbar-track {
            background: rgba(0, 30, 0, 0.3);
        }

        .terminal-output::-webkit-scrollbar-thumb {
            background: rgba(0, 255, 0, 0.5);
            border-radius: 4px;
        }

        .line {
            margin: 4px 0;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .blink {
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .input-line {
            display: flex;
            align-items: center;
            border-top: 1px solid rgba(0, 255, 0, 0.3);
            padding-top: 10px;
            margin-top: 10px;
            flex-shrink: 0;
        }

        .prompt {
            margin-right: 10px;
            color: #0f0;
        }

        #userInput {
            flex: 1;
            background: transparent;
            border: none;
            color: #0f0;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            outline: none;
            caret-color: #0f0;
        }

        .success {
            color: #00ff00;
            text-shadow: 0 0 10px #00ff00;
        }

        .error {
            color: #ff0000;
            text-shadow: 0 0 10px #ff0000;
        }

        .warning {
            color: #ffff00;
        }

        .yellow-mode {
            color: #ffff00 !important;
            border-color: #ffff00 !important;
        }

        .yellow-mode .prompt,
        .yellow-mode #userInput {
            color: #ffff00 !important;
            caret-color: #ffff00 !important;
        }

        .yellow-mode .line {
            color: #ffff00 !important;
        }

        .blue-mode {
            color: #4da6ff !important;
            border-color: #4da6ff !important;
        }

        .blue-mode .prompt,
        .blue-mode #userInput {
            color: #4da6ff !important;
            caret-color: #4da6ff !important;
        }

        .blue-mode .line {
            color: #4da6ff !important;
        }

        .hexagon {
            font-size: 60px;
            text-align: center;
            margin: 20px 0;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { 
                transform: scale(1);
                text-shadow: 0 0 20px rgba(255, 255, 0, 0.8);
            }
            50% { 
                transform: scale(1.1);
                text-shadow: 0 0 40px rgba(255, 255, 0, 1);
            }
        }

        .door-animation {
            text-align: center;
            font-size: 20px;
            margin-top: 15px;
        }

        /* Screen off state - COMPLETELY BLACK */
        .screen-off .screen-area {
            background: #000 !important;
        }

        .screen-off .terminal {
            display: none !important;
        }

        .screen-off .screen-effects {
            display: none !important;
        }

        /* Screen corners */
        .corner {
            position: absolute;
            width: 20px;
            height: 20px;
            border: 2px solid #333;
            z-index: 6;
        }

        .corner-tl {
            top: 10px;
            left: 10px;
            border-right: none;
            border-bottom: none;
        }

        .corner-tr {
            top: 10px;
            right: 10px;
            border-left: none;
            border-bottom: none;
        }

        .corner-bl {
            bottom: 10px;
            left: 10px;
            border-right: none;
            border-top: none;
        }

        .corner-br {
            bottom: 10px;
            right: 10px;
            border-left: none;
            border-top: none;
        }

        /* Hidden elements */
        .hidden {
            display: none !important;
        }

        /* Power on animation */
        .powering-on .terminal {
            animation: powerOn 1.5s ease-out;
        }

        @keyframes powerOn {
            0% { 
                opacity: 0;
                filter: brightness(0);
            }
            20% { 
                opacity: 0.1;
                filter: brightness(0.1);
            }
            40% { 
                opacity: 0.3;
                filter: brightness(0.3);
            }
            60% { 
                opacity: 0.6;
                filter: brightness(0.6);
            }
            80% { 
                opacity: 0.8;
                filter: brightness(0.9);
            }
            100% { 
                opacity: 1;
                filter: brightness(1);
            }
        }
    </style>
</head>
<body>
    <!-- Main screen container -->
    <div class="screen-container">
        <!-- Power controls -->
        <div class="power-controls">
            <button id="powerOn" class="power-btn on">Power On</button>
            <div class="status-indicator">
                <div id="statusLight" class="status-light"></div>
                <span id="statusText">OFFLINE</span>
            </div>
            <button id="powerOff" class="power-btn off">Power Off</button>
        </div>
        
        <!-- Screen label -->
        <div class="screen-label">Republic Security Terminal v2.1</div>
        
        <!-- Main screen area -->
        <div class="screen-area">
            <!-- Screen corners -->
            <div class="corner corner-tl"></div>
            <div class="corner corner-tr"></div>
            <div class="corner corner-bl"></div>
            <div class="corner corner-br"></div>
            
            <!-- Screen effects INSIDE the screen -->
            <div class="screen-effects">
                <div class="screen-overlay"></div>
                <div class="scan-line"></div>
                <div class="flicker"></div>
                <div class="noise"></div>
            </div>
            
            <!-- Terminal (only visible when powered on) -->
            <div class="terminal" id="terminal">
                <div class="terminal-header">
                    ═══ REPUBLIC SECURITY TERMINAL ═══
                </div>
                <div class="terminal-output" id="output">
                    <!-- Terminal content will be generated here -->
                </div>
                <div class="input-line">
                    <span class="prompt">></span>
                    <input type="password" id="userInput" autocomplete="off" disabled>
                    <span class="blink">█</span>
                </div>
            </div>
        </div>
        
        <!-- Bottom label -->
        <div class="screen-label" style="margin-top: 15px;">
            Galactic Republic • Secure Channel 7 • Encryption Active
        </div>
    </div>

    <script>
        // DOM Elements
        const terminal = document.getElementById('terminal');
        const output = document.getElementById('output');
        const userInput = document.getElementById('userInput');
        const powerOnBtn = document.getElementById('powerOn');
        const powerOffBtn = document.getElementById('powerOff');
        const statusLight = document.getElementById('statusLight');
        const statusText = document.getElementById('statusText');
        const screenContainer = document.querySelector('.screen-container');
        const screenArea = document.querySelector('.screen-area');
        const screenEffects = document.querySelector('.screen-effects');
        const flickerEffect = document.querySelector('.flicker');
        const scanLine = document.querySelector('.scan-line');
        
        // Terminal state
        const correctPassword = 'OPEN 2001';
        const secretPhrase = 'CONFEDERACY OF EQUALITY';
        const secretCode = 'CII';
        const cisCode = 'ROGER ROGER';
        let attempts = 0;
        const maxAttempts = 5;
        let helpShown = false;
        let isPoweredOn = false;
        let isInitialized = false;
        
        // Terminal entries data
        const entries = {
            1: {
                title: "INCIDENT REPORT - UNIDENTIFIED COMBATANTS",
                content: [
                    "CLASSIFIED - EYES ONLY",
                    "Location: Outer Rim Territories",
                    "Date: [REDACTED]",
                    "",
                    "Multiple sightings of unidentified soldiers wearing",
                    "yellow hexagon insignia. Not CIS. Not Republic.",
                    "",
                    "Engagement protocol: Non-lethal capture preferred.",
                    "Witnesses report advanced tactics and unknown allegiance.",
                    "",
                    "Intelligence suggests possible deserter faction.",
                    "Further investigation required.",
                    "",
                    "STATUS: ONGOING"
                ]
            },
            2: {
                title: "INTELLIGENCE BRIEF - 'CII' RUMORS",
                content: [
                    "REPUBLIC INTELLIGENCE - UNVERIFIED",
                    "",
                    "Intercepted communications reference 'CII' or",
                    "'Confederacy of Equality' - origin unknown.",
                    "",
                    "Alleged claims:",
                    "- Neither Republic nor Separatist aligned",
                    "- Recruiting defectors from both sides",
                    "- Unknown leadership structure",
                    "",
                    "ASSESSMENT: Possibly propaganda or disinformation.",
                    "Recommend monitoring but no immediate threat level.",
                    "",
                    "NOTE: Some clones report seeing yellow hexagon symbols",
                    "spray-painted at battle sites. Significance unclear."
                ]
            },
            3: {
                title: "JEDI COUNCIL REPORT - FORCE DISTURBANCES",
                content: [
                    "URGENT - COUNCIL ATTENTION REQUIRED",
                    "",
                    "Multiple Jedi Knights reporting unusual disturbances",
                    "in the Force. Patterns do not match known Sith activity.",
                    "",
                    "Description: 'Echoes that feel... artificial'",
                    "             'Like machinery trying to breathe'",
                    "",
                    "Location: Concentrated near [DATA CORRUPTED]",
                    "",
                    "Master Yoda's assessment: 'Something new stirs.",
                    "Neither living nor dead. Neither dark nor light.'",
                    "",
                    "Investigation priority: HIGH",
                    "Current leads: NONE"
                ]
            },
            4: {
                title: "CLONE INCIDENT LOG - UNUSUAL ENCOUNTERS",
                content: [
                    ">> CT-5597: Reported droid that 'looked at him weird'.",
                    "   Droid displayed no aggressive behavior. Just... stared.",
                    "   CT-5597 described feeling 'cold' during encounter.",
                    "",
                    ">> CT-8843: Squad encountered abandoned CIS facility.",
                    "   Medical equipment. Jedi robes (bloodstained).",
                    "   Strange crystals. No bodies found.",
                    "",
                    ">> CT-2187: Claims a B1 droid spoke to him.",
                    "   Not standard programming. Asked 'philosophical questions'.",
                    "   Unit recommends psych eval for CT-2187.",
                    "",
                    "NOTE: Pattern emerging. Flagged for review."
                ]
            },
            5: {
                title: "INTERCEPTED TRANSMISSION - ORIGIN UNKNOWN",
                content: [
                    ">>>SIGNAL LOST<<<",
                    ">>>PARTIAL RECOVERY<<<",
                    "",
                    "...project proceeding as planned...",
                    "...specimens show unprecedented results...",
                    "...Darth Kaelith demands acceleration...",
                    "...Pheros IX facility secure...",
                    "...SF-1207 breach CRITICAL...",
                    "...containment failed...",
                    "...do NOT inform Lord Dooku...",
                    "",
                    ">>>END TRANSMISSION<<<",
                    "",
                    "ANALYSIS: Unknown Sith reference. 'Darth Kaelith' not",
                    "in Republic databases. Location 'Pheros IX' uncharted.",
                    "",
                    "RECOMMENDATION: Forward to Jedi Council immediately."
                ]
            },
            6: {
                title: "FIELD REPORT - STRANGE DROID SIGHTING",
                content: [
                    "URGENT - UNCLASSIFIED THREAT",
                    "Reported by: Commander Bly, 327th Star Corps",
                    "",
                    "During patrol on Felucia, squad encountered unknown droid.",
                    "Designation appeared to be 'F-01' (non-standard).",
                    "",
                    "Droid did not engage. Did not flee.",
                    "Stood motionless. Appeared to be... observing us.",
                    "",
                    "Droid vanished before capture. Method unknown.",
                    "No hyperdrive signature. No cloaking device detected.",
                    "",
                    "Commander Bly notes: 'I've never seen anything like it.",
                    "It felt... aware. Really aware.'",
                    "",
                    "STATUS: UNKNOWN THREAT LEVEL"
                ]
            }
        };

        // Initialize terminal
        function initializeTerminal() {
            if (isInitialized) return;
            
            addLine("System initializing...", "warning");
            setTimeout(() => {
                addLine("Booting Republic security protocols...", "warning");
                setTimeout(() => {
                    addLine("Connecting to secure network...", "warning");
                    setTimeout(() => {
                        addLine("Connection established.", "success");
                        addLine("─────────────────────────────────");
                        addLine("Hello Trooper. type 'HELP' to see the available commands.");
                        isInitialized = true;
                    }, 800);
                }, 800);
            }, 800);
        }

        // Add line to terminal output
        function addLine(text, className = '') {
            const line = document.createElement('div');
            line.className = 'line ' + className;
            line.textContent = text;
            output.appendChild(line);
            output.scrollTop = output.scrollHeight;
        }

        // Power on the terminal
        function powerOn() {
            if (isPoweredOn) return;
            
            isPoweredOn = true;
            screenContainer.classList.remove('screen-off');
            statusLight.classList.add('on');
            statusText.textContent = "ONLINE";
            statusText.style.color = "#0f0";
            
            // Show terminal with animation
            terminal.classList.add('powering-on');
            
            // Clear any previous output
            output.innerHTML = '';
            
            // Enable input
            setTimeout(() => {
                userInput.disabled = false;
                userInput.focus();
                initializeTerminal();
            }, 1500);
        }

        // Power off the terminal
        function powerOff() {
            if (!isPoweredOn) return;
            
            addLine("", "warning");
            addLine("Shutting down terminal...", "warning");
            
            // Flicker effect during shutdown
            let flickerCount = 0;
            const flickerInterval = setInterval(() => {
                flickerEffect.style.opacity = Math.random() * 0.5;
                flickerCount++;
                
                if (flickerCount > 10) {
                    clearInterval(flickerInterval);
                    screenContainer.classList.add('screen-off');
                    statusLight.classList.remove('on');
                    statusText.textContent = "OFFLINE";
                    statusText.style.color = "#666";
                    userInput.disabled = true;
                    userInput.value = "";
                    isPoweredOn = false;
                    isInitialized = false;
                    
                    // Remove powering-on class
                    terminal.classList.remove('powering-on');
                }
            }, 150);
        }

        // Open door sequence
        function openDoor() {
            addLine('─────────────────────────────────');
            addLine('Password correct!', 'success');
            addLine('Verifying credentials...', 'success');
            
            setTimeout(() => {
                addLine('Access granted.', 'success');
                addLine('Door opening...', 'success');
                
                setTimeout(() => {
                    const doorAnim = document.createElement('div');
                    doorAnim.className = 'door-animation success';
                    doorAnim.innerHTML = '▓▓▓▓▓░░░░░▓▓▓▓▓';
                    output.appendChild(doorAnim);
                    
                    let count = 0;
                    const interval = setInterval(() => {
                        count++;
                        if (count === 1) doorAnim.innerHTML = '▓▓▓▓░░░░░░▓▓▓▓';
                        if (count === 2) doorAnim.innerHTML = '▓▓▓░░░░░░░░▓▓▓';
                        if (count === 3) doorAnim.innerHTML = '▓▓░░░░░░░░░░▓▓';
                        if (count === 4) doorAnim.innerHTML = '▓░░░░░░░░░░░░▓';
                        if (count === 5) {
                            doorAnim.innerHTML = '░░░░░░░░░░░░░░';
                            clearInterval(interval);
                            setTimeout(() => {
                                addLine('Welcome, Commander.', 'success');
                                addLine('May the Force be with you.', 'success');
                            }, 500);
                        }
                    }, 200);
                }, 1000);
            }, 1000);
        }

        // Activate secret mode
        function activateSecretMode() {
            terminal.classList.add('yellow-mode');
            
            addLine('─────────────────────────────────');
            addLine('⚠ ENCRYPTED SIGNAL DETECTED ⚠');
            addLine('Decrypting transmission...');
            
            setTimeout(() => {
                addLine('Signal authenticated.');
                const hexagon = document.createElement('div');
                hexagon.className = 'hexagon';
                hexagon.innerHTML = '⬡';
                output.appendChild(hexagon);
                
                setTimeout(() => {
                    addLine('═══════════════════════════════════');
                    addLine('CONFEDERACY OF EQUALITY');
                    addLine('RECOGNIZED');
                    addLine('═══════════════════════════════════');
                    addLine('Terminal access: GRANTED');
                    addLine('Special clearance: ACTIVE');
                    addLine('');
                    addLine('Type HELP for available commands...');
                    userInput.disabled = false;
                    userInput.value = '';
                    userInput.focus();
                }, 1500);
            }, 1000);
        }

        // Activate CIS mode
        function activateCISMode() {
            terminal.classList.add('blue-mode');
            
            addLine('─────────────────────────────────');
            addLine('⚠ CIS PROTOCOL DETECTED ⚠');
            addLine('Roger roger! Analyzing...');
            
            setTimeout(() => {
                addLine('Battle droid signature confirmed.');
                addLine('');
                addLine('░▒▓ SEPARATIST DATABASE ACCESS ▓▒░');
                addLine('');
                addLine('Uh oh. This is awkward.');
                addLine('This is a Republic terminal, clanker.');
                addLine('');
                addLine('But hey, since you said the magic words...');
                addLine('Here\'s what we know about YOU:');
                addLine('');
                addLine('- Your targeting systems are terrible');
                addLine('- You lose 90% of engagements');
                addLine('- "Roger roger" is NOT tactical communication');
                addLine('- Count Dooku doesn\'t even like you');
                addLine('');
                addLine('Now get out of our terminal, rust bucket!');
                addLine('');
                addLine('Terminal locking in 3... 2... 1...');
                
                setTimeout(() => {
                    addLine('');
                    addLine('Just kidding. You can stay.');
                    addLine('Type HELP for commands, I guess.');
                    userInput.disabled = false;
                    userInput.value = '';
                    userInput.focus();
                }, 3000);
            }, 1000);
        }
        
        // Show help
        function showHelp() {
            addLine('─────────────────────────────────');
            addLine('AVAILABLE COMMANDS:');
            addLine('');
            addLine('ENTRY [number] - Access classified files');
            addLine('               Available: ENTRY 1-6');
            addLine('');
            addLine('OPEN [code]  - Door control system');
            addLine('               Requires authorization code');
            addLine('');
            addLine('STATUS       - Display terminal diagnostics');
            addLine('');
            addLine('Examples:');
            addLine('> ENTRY 1');
            addLine('> OPEN THE DOOR');
            addLine('> STATUS');
            addLine('─────────────────────────────────');
            helpShown = true;
        }
        
        // Show entry
        function showEntry(num) {
            const entry = entries[num];
            if (!entry) {
                addLine('─────────────────────────────────');
                addLine('ERROR: Entry not found.', 'error');
                addLine('Available entries: 1-6');
                addLine('─────────────────────────────────');
                return;
            }
            
            addLine('─────────────────────────────────');
            addLine('⬡ ' + entry.title + ' ⬡');
            addLine('─────────────────────────────────');
            addLine('');
            
            entry.content.forEach(line => {
                addLine(line);
            });
            
            addLine('');
            addLine('─────────────────────────────────');
        }
        function showCustomLog(title, lines, type = '') {
            addLine('─────────────────────────────────');
            addLine(title, type);
            addLine('─────────────────────────────────');
            addLine('');
            lines.forEach(line => addLine(line));
            addLine('');
            addLine('─────────────────────────────────');
        }


        // Show status
        function showStatus() {
            addLine('─────────────────────────────────');
            addLine('TERMINAL DIAGNOSTICS');
            addLine('─────────────────────────────────');
            addLine('System Status: OPERATIONAL');
            addLine('Security Level: MAXIMUM');
            addLine('Network: Republic Encrypted Channel 7');
            addLine('');
            addLine('Connected Databases:');
            addLine('  ✓ Republic Intelligence Network');
            addLine('  ✓ Clone Army Command Structure');
            addLine('  ✓ Jedi Temple Archives (Limited)');
            addLine('');
            addLine('Active Protocols:');
            addLine('  ✓ Intrusion Detection: ACTIVE');
            addLine('  ✓ Failed Login Monitor: ACTIVE');
            addLine('  ✓ Force Signature Scanner: ACTIVE');
            addLine('');
            addLine('Login Attempts: ' + attempts + '/' + maxAttempts);
            addLine('');
            addLine('Current Time: ' + new Date().toLocaleTimeString());
            addLine('Galactic Standard Date: 21 BBY');
            addLine('');
            addLine('May the Force be with you, Commander.');
            addLine('─────────────────────────────────');
        }

        // Handle user input
        userInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                const input = userInput.value.trim().toUpperCase();
                const displayInput = userInput.value.trim();
                
                // Don't show asterisks for HELP and ENTRY commands
                if (input.startsWith('HELP') || input.startsWith('ENTRY') || input === 'STATUS') {
                    addLine('> ' + displayInput);
                } else {
                    addLine('> ' + '*'.repeat(displayInput.length));
                }
                
                // Check for HELP command
                if (input === 'HELP') {
                    showHelp();
                    userInput.value = '';
                    return;
                }
                
                // Check for STATUS command
                if (input === 'STATUS') {
                    showStatus();
                    userInput.value = '';
                    return;
                }
                
                // Check for ENTRY command
                if (input.startsWith('ENTRY')) {
                    const parts = input.split(' ');
                    if (parts.length === 2) {
                        const entryNum = parseInt(parts[1]);
                        if (!isNaN(entryNum)) {
                            showEntry(entryNum);
                            userInput.value = '';
                            return;
                        }
                    }
                    addLine('Invalid syntax. Use: ENTRY [number]', 'error');
                    userInput.value = '';
                    return;
                }
                // === SECRET KEYWORDS ===

                // TONY D EWOK — Funny Ewok joke
                if (input === 'TONY D EWOK') {
                    showCustomLog(
                        'EWOK COMMUNICATION INTERCEPT',
                        [
                            'Source: Forest Moon of Endor',
                            'Translation confidence: LOW',
                            '',
                            '"Yub nub! Big metal trooper fall down go boom!"',
                            '"Then Ewok take helmet. Helmet too big."',
                            '',
                            'Analysis:',
                            '- Ewoks appear to believe helmets are hats',
                            '- Subject Tony D. Ewok considered "local legend"',
                            '',
                            'Threat Level: ADORABLE BUT CONCERNING'
                        ],
                        'warning'
                    );
                    userInput.value = '';
                    return;
                }

                // JOHN DIVER — Dangerous prisoner log (cool tone)
                if (input === 'JOHN DIVER') {
                    showCustomLog(
                        'REPUBLIC PRISONER LOG — TERMINATED',
                        [
                            'Name: John Diver',
                            'Classification: EXTREME RISK',
                            'Detention Facility: Black Site R-9',
                            '',
                            'Crimes:',
                            '- Sabotage of three Republic cruisers',
                            '- Confirmed Jedi casualties',
                            '- Unauthorized Force-adjacent experimentation',
                            '',
                            'Incident Report:',
                            'During transfer, facility suffered a containment breach.',
                            'Security footage shows an Assassin Spider Droid',
                            'entering Cell Block D.',
                            '',
                            'Audio recovered:',
                            '"Wait— that thing isn’t scheduled—"',
                            '',
                            'Result:',
                            'Prisoner terminated.',
                            'Spider Droid unrecovered.',
                            '',
                            'Status: CASE CLOSED'
                        ],
                        'error'
                    );
                    userInput.value = '';
                    return;
                }

                // GUNGA GREG — Escaped prisoner
                if (input === 'GUNGA GREG') {
                    showCustomLog(
                        'ESCAPE INCIDENT REPORT',
                        [
                            'Subject: Gunga Greg',
                            'Species: Gungan',
                            'Former Status: Detained Agitator',
                            '',
                            'Details:',
                            'Subject was last seen complaining loudly',
                            'about food portions and "unfair cell vibes."',
                            '',
                            'Security failure occurred at 0300 hours.',
                            'Cell found empty.',
                            'Walls wet.',
                            'Very wet.',
                            '',
                            'Note:',
                            'Several guards report hearing:',
                            '"Mesa free now!"',
                            '',
                            'Current Status: AT LARGE',
                            'Recommendation: Do NOT pursue near water.'
                        ],
                        'warning'
                    );
                    userInput.value = '';
                    return;
                }

                // Easter egg OPEN commands
                const easterEggs = {
                    'OPEN SESAME': 'Nice try, but this isn\'t a cave on Tatooine.',
                    'OPEN PLEASE': 'Politeness detected. We appreciate that.\nBut you still need the correct code.',
                    'OPEN NOW': 'Impatience detected.\nThis is why Jedi teach patience, General.',
                    'OPEN THE DOOR': 'Instructions unclear. Please specify WHICH door.\nWe have 2,847 doors on this cruiser.'
                };
                
                if (easterEggs[input]) {
                    addLine('─────────────────────────────────');
                    easterEggs[input].split('\n').forEach(line => {
                        addLine(line, 'warning');
                    });
                    addLine('─────────────────────────────────');
                    userInput.value = '';
                    return;
                }
                
                if (input.startsWith('OPEN ') && input !== correctPassword) {
                    addLine('─────────────────────────────────');
                    addLine('OPEN command recognized.', 'warning');
                    addLine('But invalid authorization code detected.', 'error');
                    addLine('─────────────────────────────────');
                    userInput.value = '';
                    return;
                }
                
                if (input === correctPassword) {
                    userInput.disabled = true;
                    openDoor();
                } else if (input === secretPhrase || input === secretCode) {
                    userInput.disabled = true;
                    activateSecretMode();
                } else if (input === cisCode) {
                    userInput.disabled = true;
                    activateCISMode();
                } else {
                    attempts++;
                    const remaining = maxAttempts - attempts;
                    
                    addLine('─────────────────────────────────');
                    addLine('Access denied. Invalid code.', 'error');
                    
                    // Trigger flicker on error
                    flickerEffect.style.opacity = 0.3;
                    setTimeout(() => {
                        flickerEffect.style.opacity = 0.1;
                    }, 200);
                    
                    if (remaining > 0) {
                        addLine(`Attempts remaining: ${remaining}`, 'warning');
                        
                        if (attempts >= 3) {
                            addLine('Warning: Multiple failed attempts detected.', 'warning');
                        }
                        
                        addLine('─────────────────────────────────');
                        addLine('Enter access code to proceed:');
                    } else {
                        addLine('─────────────────────────────────');
                        addLine('LOCKDOWN INITIATED', 'error');
                        addLine('Terminal access blocked.', 'error');
                        addLine('Contact system administrator.', 'error');
                        userInput.disabled = true;
                    }
                }
                
                userInput.value = '';
            }
        });

        // Power button event listeners
        powerOnBtn.addEventListener('click', powerOn);
        powerOffBtn.addEventListener('click', powerOff);

        // Random screen flicker effect
        setInterval(() => {
            if (isPoweredOn) {
                // Random chance of flicker
                if (Math.random() < 0.02) {
                    flickerEffect.style.opacity = Math.random() * 0.4;
                    setTimeout(() => {
                        flickerEffect.style.opacity = 0.1;
                    }, 100 + Math.random() * 200);
                }
                
                // Random scan line speed variation
                if (Math.random() < 0.05) {
                    const randomSpeed = 5 + Math.random() * 10;
                    scanLine.style.animationDuration = `${randomSpeed}s`;
                }
            }
        }, 1000);

        // Start with terminal off
        window.addEventListener('load', () => {
            screenContainer.classList.add('screen-off');
            userInput.disabled = true;
        });
    </script>
</body>
</html>