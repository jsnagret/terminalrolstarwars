<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AT-PT Felucia Terminal</title>
<style>
body{
    background:#050b0a;
    color:#3aff7a;
    font-family: monospace;
}

#terminal{
    width:900px;
    margin:auto;
    border:2px solid #3aff7a;
    padding:20px;
    box-shadow:0 0 20px #0f5;
}

#header{
    text-align:center;
    letter-spacing:2px;
    margin-bottom:10px;
}

#screen{
    display:flex;
    gap:20px;
}

#mapFrame{
    border:1px solid #3aff7a;
    background:#031a12;
    position:relative;
}

canvas{
    background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="600" height="400"><rect width="600" height="400" fill="%23041a12"/><circle cx="450" cy="200" r="80" fill="%230a301f" opacity="0.5"/></svg>');
}

#ui{
    width:250px;
    border:1px solid #3aff7a;
    padding:10px;
}

.lever{
    margin:20px 0;
}

label{display:block;margin-bottom:5px;}

.slider{
    width:100%;
}

.warning{
    color:#ff4;
}

#legend{
    font-size:12px;
    margin-top:15px;
}
</style>
</head>

<body>
<div id="terminal">

<div id="header">
██ AT-PT TACTICAL TERMINAL ██  
<br>SECTOR: FELUCIA — PRISON PERIMETER
</div>

<div id="screen">

<div id="mapFrame">
<canvas id="map" width="600" height="400"></canvas>
</div>

<div id="ui">
<div class="lever">
<label>▲ THRUST (Forward)</label>
<input id="thrust" type="range" min="0" max="5" value="0" class="slider">
</div>

<div class="lever">
<label>◀ STEERING ▶</label>
<input id="steer" type="range" min="-3" max="3" value="0" class="slider">
</div>

<div class="warning">
! COLLISION DETECTION ACTIVE
</div>

<div id="legend">
GREEN = Swamp / Jungle  
GRAY = Rocks (solid)  
RED ZONE = Prison Complex  
BLUE = Your AT-PT
</div>
</div>

</div>
</div>

<script>
const c = document.getElementById("map");
const ctx = c.getContext("2d");

let x = 100;
let y = 200;
let angle = 0;

// rock obstacles (Felucia boulders)
const rocks = [
 {x:200,y:120,r:35},
 {x:260,y:300,r:40},
 {x:380,y:180,r:30},
 {x:500,y:250,r:50}
];

// prison zone
const prison = {x:480,y:100,w:100,h:200};

function drawMap(){
 ctx.clearRect(0,0,600,400);

 // swamp background
 ctx.fillStyle="#052e1e";
 ctx.fillRect(0,0,600,400);

 // prison zone
 ctx.strokeStyle="red";
 ctx.lineWidth=2;
 ctx.strokeRect(prison.x,prison.y,prison.w,prison.h);
 ctx.fillStyle="rgba(255,0,0,0.05)";
 ctx.fillRect(prison.x,prison.y,prison.w,prison.h);

 // rocks
 ctx.fillStyle="#666";
 rocks.forEach(r=>{
   ctx.beginPath();
   ctx.arc(r.x,r.y,r.r,0,Math.PI*2);
   ctx.fill();
 });

 // AT-PT marker (triangle)
 ctx.save();
 ctx.translate(x,y);
 ctx.rotate(angle);
 ctx.fillStyle="#4af";
 ctx.beginPath();
 ctx.moveTo(10,0);
 ctx.lineTo(-8,6);
 ctx.lineTo(-8,-6);
 ctx.closePath();
 ctx.fill();
 ctx.restore();
}

function collides(nx,ny){
 for(let r of rocks){
   let dx = nx - r.x;
   let dy = ny - r.y;
   if(Math.sqrt(dx*dx+dy*dy) < r.r + 8){
     return true;
   }
 }
 return false;
}

function update(){
 let thrust = document.getElementById("thrust").value;
 let steer = document.getElementById("steer").value;

 angle += steer * 0.02;

 let nx = x + Math.cos(angle) * thrust;
 let ny = y + Math.sin(angle) * thrust;

 if(!collides(nx,ny)){
   x = nx;
   y = ny;
 }

 // keep inside map
 x = Math.max(10, Math.min(590,x));
 y = Math.max(10, Math.min(390,y));

 drawMap();
 requestAnimationFrame(update);
}

drawMap();
update();
</script>

</body>
</html>
